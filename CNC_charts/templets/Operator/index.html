{% load static %}
<!DOCTYPE html>
<html lang="{% static 'en' %}">

<head>

  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta name="description" content="">
  <meta name="author" content="">

  <title>Operator</title>

  <!-- Custom fonts for this template-->
  <link href="{% static 'vendor/fontawesome-free/css/all.min.css" rel="stylesheet' %}" type="text/css">
  <link href="https://fonts.googleapis.com/css?family=Nunito:200,200i,300,300i,400,400i,600,600i,700,700i,800,800i,900,900i" rel="stylesheet">
    <!-- Page Echarts scripts -->
  <script src="{% static 'js/echarts.min.js' %}"></script>
  <!-- Custom styles for this template-->
  <link href="{% static 'css/sb-admin-2.min.css' %}" rel="stylesheet">
        <!-- Page Jquery scripts -->
  <script src="{% static 'vendor/jquery/jquery.min.js' %}"></script>

</head>

<body id="page-top">

  <!-- Page Wrapper -->
  <div id="wrapper">

    <!-- Sidebar -->
    <ul class="navbar-nav bg-gradient-primary sidebar sidebar-dark accordion" id="accordionSidebar">

      <!-- Sidebar - Brand -->
      <a class="sidebar-brand d-flex align-items-center justify-content-center" href="#">
        <div class="sidebar-brand-icon rotate-n-15">
          <!--<i class="fas fa-laugh-wink"></i>-->
          <svg width="3em" height="3em" viewBox="0 0 16 16" class="bi bi-emoji-smile" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
            <path fill-rule="evenodd" d="M8 15A7 7 0 1 0 8 1a7 7 0 0 0 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z"/>
            <path fill-rule="evenodd" d="M4.285 9.567a.5.5 0 0 1 .683.183A3.498 3.498 0 0 0 8 11.5a3.498 3.498 0 0 0 3.032-1.75.5.5 0 1 1 .866.5A4.498 4.498 0 0 1 8 12.5a4.498 4.498 0 0 1-3.898-2.25.5.5 0 0 1 .183-.683z"/>
            <path d="M7 6.5C7 7.328 6.552 8 6 8s-1-.672-1-1.5S5.448 5 6 5s1 .672 1 1.5zm4 0c0 .828-.448 1.5-1 1.5s-1-.672-1-1.5S9.448 5 10 5s1 .672 1 1.5z"/>
          </svg>
        </div>
        <div class="sidebar-brand-text mx-3">Operator</div>
      </a>

      <!-- Divider -->
      <hr class="sidebar-divider my-0">

      <!-- Nav Item - Dashboard -->
      <li class="nav-item active">
        <a class="nav-link" href="/Operator_index/">
          <svg width="1em" height="1em" viewBox="0 0 16 16" class="bi bi-grid-3x3-gap-fill" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
            <path d="M1 2a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1v2a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1V2zm5 0a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1v2a1 1 0 0 1-1 1H7a1 1 0 0 1-1-1V2zm5 0a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1v2a1 1 0 0 1-1 1h-2a1 1 0 0 1-1-1V2zM1 7a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1v2a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1V7zm5 0a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1v2a1 1 0 0 1-1 1H7a1 1 0 0 1-1-1V7zm5 0a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1v2a1 1 0 0 1-1 1h-2a1 1 0 0 1-1-1V7zM1 12a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1v2a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1v-2zm5 0a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1v2a1 1 0 0 1-1 1H7a1 1 0 0 1-1-1v-2zm5 0a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1v2a1 1 0 0 1-1 1h-2a1 1 0 0 1-1-1v-2z"/>
          </svg>
          <span>Dashboard</span></a>
      </li>

      <!-- Divider -->
      <hr class="sidebar-divider">

      <!-- Heading -->
      <div class="sidebar-heading">
        Operator
      </div>

      <!-- Nav students Collapse Menu -->
      <li class="nav-item">
        <a class="nav-link collapsed" href="#" data-toggle="collapse" data-target="#collapseTwo" aria-expanded="true" aria-controls="collapseTwo">
          <i class="fas fa-fw fa-cog"></i>
          <span>Attendance</span>
          <svg width="1em" height="1em" viewBox="0 0 16 16" class="bi bi-caret-down-fill" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
            <path d="M7.247 11.14L2.451 5.658C1.885 5.013 2.345 4 3.204 4h9.592a1 1 0 0 1 .753 1.659l-4.796 5.48a1 1 0 0 1-1.506 0z"/>
          </svg>
        </a>
        <div id="collapseTwo" class="collapse" aria-labelledby="headingTwo" data-parent="#accordionSidebar">
          <div class="bg-white py-2 collapse-inner rounded">
            <h6 class="collapse-header">Attendance:</h6>
            <a class="collapse-item" href="view_att/{{form.id}}">
              <svg width="1em" height="1em" viewBox="0 0 16 16" class="bi bi-card-checklist" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                <path fill-rule="evenodd" d="M14.5 3h-13a.5.5 0 0 0-.5.5v9a.5.5 0 0 0 .5.5h13a.5.5 0 0 0 .5-.5v-9a.5.5 0 0 0-.5-.5zm-13-1A1.5 1.5 0 0 0 0 3.5v9A1.5 1.5 0 0 0 1.5 14h13a1.5 1.5 0 0 0 1.5-1.5v-9A1.5 1.5 0 0 0 14.5 2h-13z"/>
                <path fill-rule="evenodd" d="M7 5.5a.5.5 0 0 1 .5-.5h5a.5.5 0 0 1 0 1h-5a.5.5 0 0 1-.5-.5zm-1.496-.854a.5.5 0 0 1 0 .708l-1.5 1.5a.5.5 0 0 1-.708 0l-.5-.5a.5.5 0 1 1 .708-.708l.146.147 1.146-1.147a.5.5 0 0 1 .708 0zM7 9.5a.5.5 0 0 1 .5-.5h5a.5.5 0 0 1 0 1h-5a.5.5 0 0 1-.5-.5zm-1.496-.854a.5.5 0 0 1 0 .708l-1.5 1.5a.5.5 0 0 1-.708 0l-.5-.5a.5.5 0 0 1 .708-.708l.146.147 1.146-1.147a.5.5 0 0 1 .708 0z"/>
              </svg> &nbsp;&nbsp;
              Attendance
            </a>
          </div>
        </div>
      </li>

      <!-- Nav Item - Faculty Collapse Menu -->
      <li class="nav-item">
        <a class="nav-link collapsed" href="#" data-toggle="collapse" data-target="#collapseUtilities" aria-expanded="true" aria-controls="collapseUtilities">
          <i class="fas fa-fw fa-cog"></i>
          <span>Production shedule</span>
          <svg width="1em" height="1em" viewBox="0 0 16 16" class="bi bi-caret-down-fill" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
            <path d="M7.247 11.14L2.451 5.658C1.885 5.013 2.345 4 3.204 4h9.592a1 1 0 0 1 .753 1.659l-4.796 5.48a1 1 0 0 1-1.506 0z"/>
          </svg>
        </a>
        <div id="collapseUtilities" class="collapse" aria-labelledby="headingUtilities" data-parent="#accordionSidebar">
          <div class="bg-white py-2 collapse-inner rounded">
            <h6 class="collapse-header">Plan:</h6>
            <a class="collapse-item" href="/Operator_index/production_plan/">
              <svg width="1em" height="1em" viewBox="0 0 16 16" class="bi bi-chat-right-quote-fill" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                <path fill-rule="evenodd" d="M16 2a2 2 0 0 0-2-2H2a2 2 0 0 0-2 2v8a2 2 0 0 0 2 2h9.586a1 1 0 0 1 .707.293l2.853 2.853a.5.5 0 0 0 .854-.353V2zM7.194 4.766c.087.124.163.26.227.401.428.948.393 2.377-.942 3.706a.446.446 0 0 1-.612.01.405.405 0 0 1-.011-.59c.419-.416.672-.831.809-1.22-.269.165-.588.26-.93.26C4.775 7.333 4 6.587 4 5.667 4 4.747 4.776 4 5.734 4c.271 0 .528.06.756.166l.008.004c.169.07.327.182.469.324.085.083.161.174.227.272zM11 7.073c-.269.165-.588.26-.93.26-.958 0-1.735-.746-1.735-1.666 0-.92.777-1.667 1.734-1.667.271 0 .528.06.756.166l.008.004c.17.07.327.182.469.324.085.083.161.174.227.272.087.124.164.26.228.401.428.948.392 2.377-.942 3.706a.446.446 0 0 1-.613.01.405.405 0 0 1-.011-.59c.42-.416.672-.831.81-1.22z"/>
              </svg> &nbsp;&nbsp;
              Production plan
            </a>
          </div>
        </div>

          <div id="collapseUtilities" class="collapse" aria-labelledby="headingUtilities" data-parent="#accordionSidebar">
          <div class="bg-white py-2 collapse-inner rounded">
            <h6 class="collapse-header">Real status:</h6>
            <a class="collapse-item" href="/Operator_index/production_plan/">
              <svg width="1em" height="1em" viewBox="0 0 16 16" class="bi bi-chat-right-quote-fill" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                <path fill-rule="evenodd" d="M16 2a2 2 0 0 0-2-2H2a2 2 0 0 0-2 2v8a2 2 0 0 0 2 2h9.586a1 1 0 0 1 .707.293l2.853 2.853a.5.5 0 0 0 .854-.353V2zM7.194 4.766c.087.124.163.26.227.401.428.948.393 2.377-.942 3.706a.446.446 0 0 1-.612.01.405.405 0 0 1-.011-.59c.419-.416.672-.831.809-1.22-.269.165-.588.26-.93.26C4.775 7.333 4 6.587 4 5.667 4 4.747 4.776 4 5.734 4c.271 0 .528.06.756.166l.008.004c.169.07.327.182.469.324.085.083.161.174.227.272zM11 7.073c-.269.165-.588.26-.93.26-.958 0-1.735-.746-1.735-1.666 0-.92.777-1.667 1.734-1.667.271 0 .528.06.756.166l.008.004c.17.07.327.182.469.324.085.083.161.174.227.272.087.124.164.26.228.401.428.948.392 2.377-.942 3.706a.446.446 0 0 1-.613.01.405.405 0 0 1-.011-.59c.42-.416.672-.831.81-1.22z"/>
              </svg> &nbsp;&nbsp;
              Production progress
            </a>
          </div>
        </div>
      </li>
      <!-- Divider -->
      <hr class="sidebar-divider">

{#      <!-- Divider -->#}
{#      <hr class="sidebar-divider d-none d-md-block">#}


    </ul>
    <!-- End of Sidebar -->

    <!-- Content Wrapper -->
    <div id="content-wrapper">

      <!-- Main Content -->
      <div id="content">

        <!-- Topbar -->
        <nav class="navbar navbar-expand navbar-light bg-white topbar mb-4 static-top shadow">

          <!-- Sidebar Toggle (Topbar) -->
         

          <ul class="navbar-nav ml-auto">
            <!-- Nav Item - User Information -->
            <li class="nav-item dropdown no-arrow">
              <a class="nav-link dropdown-toggle" href="#" id="userDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                <span class="mr-2 d-none d-lg-inline text-gray-600 small">Welcome {{form.name}}</span>
               <img class="img-profile rounded-circle" src="{%static 'img/user.png' %}">
              </a>
              <!-- Dropdown - User Information -->
              <div class="dropdown-menu dropdown-menu-right shadow animated--grow-in" aria-labelledby="userDropdown">
                <a class="dropdown-item" href="/Operator_profil/{{form.operator_id}}">
                  <svg width="1em" height="1em" viewBox="0 0 16 16" class="bi bi-person-square" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                    <path fill-rule="evenodd" d="M14 1H2a1 1 0 0 0-1 1v12a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1V2a1 1 0 0 0-1-1zM2 0a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2H2z"/>
                    <path fill-rule="evenodd" d="M2 15v-1c0-1 1-4 6-4s6 3 6 4v1H2zm6-6a3 3 0 1 0 0-6 3 3 0 0 0 0 6z"/>
                  </svg> &nbsp;&nbsp;
                  Profile
                </a>
                <a class="dropdown-item" href="/Operator_change_pw/">
                  <svg width="1em" height="1em" viewBox="0 0 16 16" class="bi bi-key-fill" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                    <path fill-rule="evenodd" d="M3.5 11.5a3.5 3.5 0 1 1 3.163-5H14L15.5 8 14 9.5l-1-1-1 1-1-1-1 1-1-1-1 1H6.663a3.5 3.5 0 0 1-3.163 2zM2.5 9a1 1 0 1 0 0-2 1 1 0 0 0 0 2z"/>
                  </svg> &nbsp;&nbsp;
                    change Password
                </a>
                <a class="dropdown-item" href="/">
                  <svg width="1em" height="1em" viewBox="0 0 16 16" class="bi bi-power" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                    <path fill-rule="evenodd" d="M5.578 4.437a5 5 0 1 0 4.922.044l.5-.866a6 6 0 1 1-5.908-.053l.486.875z"/>
                    <path fill-rule="evenodd" d="M7.5 8V1h1v7h-1z"/>
                  </svg> &nbsp;&nbsp;
                  Logout
                </a>
              </div>
            </li>

          </ul>

        </nav>
        <!-- End of Topbar -->


  <!-- Scroll to Top Button-->
  <a class="scroll-to-top rounded" href="#page-top">
    <svg width="1em" height="1em" viewBox="0 0 16 16" class="bi bi-arrow-up" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
      <path fill-rule="evenodd" d="M8 3.5a.5.5 0 0 1 .5.5v9a.5.5 0 0 1-1 0V4a.5.5 0 0 1 .5-.5z"/>
      <path fill-rule="evenodd" d="M7.646 2.646a.5.5 0 0 1 .708 0l3 3a.5.5 0 0 1-.708.708L8 3.707 5.354 6.354a.5.5 0 1 1-.708-.708l3-3z"/>
    </svg>
  </a>
</div>



<div class='container' align='center'>
       {% block content %}
{#   <h1 class=" text-info" align="center">Welcome Admin in the system....</h1>#}
       <div id="Productivity"></div>
       <div id="Plan_downtime" ></div>
       <div id="Unplan_downtime" ></div>
       <div id="Gauge_shiftA" ></div>
       <div id="Gauge_shiftB"></div>
       <div id="Gauge_shiftC" ></div>
       <div class="machine_status">
       <H4> Machine running status</H4>
       <div id="Alarm" >
       <h5>Alarm
       <svg  xmlns="http://www.w3.org/2000/svg" >
            <circle cx="80" cy="50" r="30" stroke="black" stroke-width="2" fill="red" />
        </svg>
           </h5>
       </div>
       <div id="warning" >
       <h5>Warning
       <svg xmlns="http://www.w3.org/2000/svg" >
            <circle cx="80" cy="50" r="30" stroke="black" stroke-width="2" fill="yellow" />
        </svg>
            </h5>
       </div>

       <div id="normal" >
       <h5> Running
       <svg xmlns="http://www.w3.org/2000/svg" >
            <circle cx="80" cy="50" r="30" stroke="black" stroke-width="2" fill="green" />
        </svg>
           </h5>
       </div>
       </div>
       <div class="ministop">
            <h4 style="text-align: center">Machine ministop</h4>
           <div class="plandowntime">
               <h4>Plan_downtime</h4>
           <form action="" METHOD="post">
               <p>Downtime: <input type="number"></p>
               <p>Type: <select>
                   <option name="Training"> Training</option>
                   <option name="meeting"> Daily meeting</option>
                   <option name="Optimization"> Optimization</option>
                   <option name="warm-up"> Machine warm-up</option>
                   <option name="Bipros"> Bipros activity</option>
                   <option name="Sample"> Sample buiding</option>
                   <option name="v"> Waiting jigs</option>
                   <option name="Maintenance"> Maintenance</option>
                   <option name="loading"> Program loading</option>
               </select>
               </p>
               </form>
           <button class="btn btn-primary btn-user" type="submit">submit</button>
           </div>
           <div class="unplandowntime">
                <h4>Unplan_downtime</h4>
            <form ACTION="" METHOD="post">
           <p>Downtime:<input type="number" ></p>
           <p>Type:<select>
                   <option name="Mechanic"> Mechanic issue</option>
                   <option name="Electric"> Electric issue</option>
                   <option name="Hydraulic">Hydraulic issue</option>
                   <option name="Media"> Media issue</option>
                   <option name="Tools"> Tools issue</option>
                   <option name="Waiting"> Waiting</option>
                   <option name="Others"> Others issue</option>
           </select>
           </p>
           <button class="btn btn-primary btn-user " type="submit">submit</button>
       </form>
           </div>
       </div>
       <style>
       #Gauge_shiftA{
                position: absolute;
                width:16%;
                height:32%;
                margin-left: -9%;
              }
       #Gauge_shiftB{
                position: absolute;
                margin-left: 5%;
                width:16%;
                height:32%;

                }
       #Gauge_shiftC{
                position: absolute;

                margin-left: 19%;
                width:16%;
                height:32%;
            }
       #Productivity{
                position: absolute;
                width:45%;
                  margin-left: 33%;
                height:30%;
            }
        #Plan_downtime{
                position: absolute;
                margin-top: 15%;
                margin-left: -8%;
                width:45%;
                height:30%;
            }
        #Unplan_downtime{
                position: absolute;
                margin-top: 29%;
                margin-left: -8%;
                width:45%;
                height:30%;
            }
        .machine_status{
            position: absolute;
            width:30%;
            height:20%;
            margin-top: 16%;
            margin-left: 40%;
            {#background-color: #fbe6b1;#}
            text-align: center;
            border-color: #2d2e33;
            border-bottom: brown solid 3px;
        }
        #Alarm{
                position: absolute;
                width:33%;
                height:20%;

            text-align: center;
            }
        #warning{
                position: absolute;
                margin-left: 35%;
                width:33%;
                height:20%;
                text-align: center;
            }
        #normal{
                position: absolute;
                margin-left: 70%;
                width:33%;
                height:20%;
                text-align: center;
            }
        .ministop{
            position: absolute;
            width:30%;
            height:30%;
            margin-top: 28%;
            margin-left: 40%;
            border-color: #2d2e33;
            border-bottom: brown solid 3px;
        }
        input{width:50px;height:30px;line-height:30px;}
        select{width:150px;height:30px;line-height:30px;}
        .plandowntime{
            position: absolute;
            border-right: green solid 2px;
            width: 50%;
        }
        .unplandowntime{
            position: absolute;
            margin-left: 60%;
            width: 50%;
        }
       </style>
            <script>
        var chart1 = echarts.init(document.getElementById('Productivity'), 'white', {renderer: 'canvas'});
        var chart2 = echarts.init(document.getElementById('Plan_downtime'), 'white', {renderer: 'canvas'});
        var chart3 = echarts.init(document.getElementById('Unplan_downtime'), 'white', {renderer: 'canvas'});
        var chart4 = echarts.init(document.getElementById('Gauge_shiftA'), 'white', {renderer: 'canvas'});
        var chart5 = echarts.init(document.getElementById('Gauge_shiftB'), 'white', {renderer: 'canvas'});
        var chart6 = echarts.init(document.getElementById('Gauge_shiftC'), 'white', {renderer: 'canvas'});

        $(
            function () {
                fetchData1(chart1);
                fetchData2(chart2);
                fetchData3(chart3);
                fetchData4(chart4);
                fetchData5(chart5);
                fetchData6(chart6);
                setInterval(fetchData1, 3000);
                setInterval(fetchData2, 3000);
                setInterval(fetchData3, 3000);
                setInterval(fetchData4, 3000);
                setInterval(fetchData5, 3000);
                setInterval(fetchData6, 3000);
            }
        );

        function fetchData1() {
            $.ajax({
                type: "GET",
                url: "http://10.15.1.199:8000/Dashboard/Productivity",
                dataType: 'json',
                success: function (result) {
                    chart1.setOption(result.data);
                }
            });
        }
        function fetchData2() {
                $.ajax({
                    type: "GET",
                    url: "http://10.15.1.199:8000/Dashboard/Plan_downtime",
                    dataType: 'json',
                    success: function (result) {
                    chart2.setOption(result.data);
                    }
                });
            }
        function fetchData3() {
                    $.ajax({
                        type: "GET",
                        url: "http://10.15.1.199:8000/Dashboard/Unplan_downtime",
                        dataType: 'json',
                        success: function (result) {
                         chart3.setOption(result.data);
                        }
                    });
                }
        function fetchData4() {
                    $.ajax({
                        type: "GET",
                        url: "http://10.15.1.199:8000/Dashboard/Gauge_shiftA",
                        dataType: 'json',
                        success: function (result) {
                            chart4.setOption(result.data);
                        }
                    });

                }
        function fetchData5() {
                    $.ajax({
                        type: "GET",
                        url: "http://10.15.1.199:8000/Dashboard/Gauge_shiftB",
                        dataType: 'json',
                        success: function (result) {
                            chart5.setOption(result.data);
                        }
                    });
                }
        function fetchData6() {
                    $.ajax({
                        type: "GET",
                        url: "http://10.15.1.199:8000/Dashboard/Gauge_shiftC",
                        dataType: 'json',
                        success: function (result) {
                            chart6.setOption(result.data);
                        }
                    });
                }

    </script>
    {% endblock content %}
</div>
</div>

  <!-- Bootstrap core JavaScript-->
  <script src="{% static 'vendor/jquery/jquery.min.js' %}"></script>
  <script src="{% static 'vendor/bootstrap/js/bootstrap.bundle.min.js' %}"></script>

  <!-- Core plugin JavaScript-->
  <script src="{% static 'vendor/jquery-easing/jquery.easing.min.js' %}"></script>

  <!-- Custom scripts for all pages-->
  <script src="{% static 'js/sb-admin-2.min.js' %}"></script>

  <!-- Page level plugins -->
  <script src="{% static 'vendor/chart.js/Chart.min.js' %}"></script>

  <!-- Page level custom scripts -->
  <script src="{% static 'js/demo/chart-area-demo.js' %}"></script>
  <script src="{% static 'js/demo/chart-pie-demo.js' %}"></script>

</body>

</html>
